[gcode_macro START_PRINT]
gcode:
    {% set BED_TEMP = params.BED_TEMP|default(60)|float %}
    {% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(190)|float %}
    SET_GCODE_OFFSET Z=0.05     #Reset GCode offset

    M140 S{BED_TEMP}         #Start bed heating
	M104 S160                #Start extruder heating
    HOME_AND_TILT
    BED_MESH_PROFILE LOAD=default

    G90                      #Use absolute positioning
    G1 X20 Y0 Z5 F5000.0      #Move to start pos
    M190 S{BED_TEMP}         #Wait for bed to reach temp
    G4 P{ 2 * 60 * 1000 }    #Wait a few minutes for glass plate to heat up
    M109 S{EXTRUDER_TEMP}    #Wait for extruder to reach final temp

    G1 Z0.2 F1000            #Raise bed to print distance
    G92 E0.0                 #Reset extruder
    G1 X100.0 E15 F1000.0    #print purge line
    G92 E0.0                 #Reset extruder
